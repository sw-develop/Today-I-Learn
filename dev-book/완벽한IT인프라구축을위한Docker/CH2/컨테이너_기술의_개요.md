# 2.1 컨테이너 기술의 개요

Docker는 컨테이너 기술을 사용하여 애플리케이션의 실행 환경을 구축 및 운용하기 위한 플랫폼이다.

애플리케이션의 실행에 필요한 것을 하나로 모아, Docker 이미지로 관리함으로써 애플리케이션의 이식성을 높일 수 있다.

<br>

## 📌 컨테이너

- 호스트 OS상에 논리적인 구획(컨테이너)을 만들고, 애플리케이션을 작동시키기 위해 필요한 라이브러리나 애플리케이션 등을 하나로 모아, 마치 별도의 서버인 것처럼 사용할 수 있게 만드는 것이다.
- 호스트 OS의 리소스를 논리적으로 분리시키고, 여러 개의 컨테이너가 공유하여 사용한다.

![image](https://user-images.githubusercontent.com/69254943/202852542-bc56dc7d-d34c-469e-b300-db5069dcdd2a.png)

- 보통 물리 서버 상에 설치한 호스트 OS의 경우 하나의 OS 상에서 움직이는 여러 애플리케이션은 동일한 시스템 리소스를 사용한다. 이때 작동하는 여러 애플리케이션은 데이터를 저장하는 디렉토리를 공유하고, 서버에 설정된 동일한 IP 주소로 통신을 한다. 따라서 여러 애플리케이션에서 사용하고 있는 미들웨어나 라이브러리의 버전이 다른 경우에는 각 애플리케이션이 서로 영향을 받지 않도록 주의해야 한다.
- 이에 반해 컨테이너 기술을 사용하면 OS나 디렉토리, IP 주소 등과 같은 시스템 자원을 마치 각 애플리케이션이 점유하고 있는 것처럼 보이게 할 수 있다. ⇒ 각 애플리케이션이 독립된 서버 환경을 제공받는 것처럼 보임
- 컨테이너는 애플리케이션의 실행에 필요한 모듈을 컨테이너로 모을 수 있기 때문에 여러 개의 컨테이너를 조합하여 하나의 애플리케이션을 구축하는 MSA와 친화성이 높다.

<br>

## 💡 서버 가상화 기술의 이모저모 (기존의 방식들)

- 클라이언트 PC에서 개발 환경 구축이나 클라우드의 가상 머신 서비스 등에서 널리 사용되는 서버 가상화 기술에는 몇 가지 방식이 있다.

<br>

### **호스트형 서버 가상화**

- 하드웨어 상에 베이스가 되는 호스트 OS를 설치하고, 호스트 OS에 가상화 소프트웨어를 설치한 후, 이 가상화 소프트웨어 상에서 게스트 OS를 작동시키는 기술이다.
- 가상화 소프트웨어를 설치하여 간편하게 가상 환경을 구축할 수 있기 때문에 개발 환경 구축 등에 주로 사용한다.
    - ‘Oracle VM VirtualBox’나 ‘VMware Workstation Player’ 등
- 단점
    - 컨테이너와 다르게 호스트 OS 상에서 별도의 게스트 OS를 작동시키고 있기 때문에 오버헤드가 커진다.
        - 오버헤더란 가상화를 수행하기 위해 필요한 CPU 자원, 디스크 용량, 메모리 사용량 등을 말함

![image](https://user-images.githubusercontent.com/69254943/202852565-0fdb9cf1-ae1e-43d0-8bfa-a092e327f17b.png)

### 하이퍼바이저형 서버 가상화

- 하드웨어 상에 가상화를 전문으로 수행하는 소프트웨어인 ‘하이퍼바이저’를 배치하고, 하드웨어와 가상 환경을 제어한다.
    - Hyper-V, XenServer 등
- 하이퍼바이저가 호스트 OS 없이 하드웨어를 직접 제어하기 때문에 자원을 효율적으로 사용할 수 있다.
    - 단, 가상 환경마다 별도의 OS가 작동하므로 가상 환경의 시작에 걸리는 오버헤드가 커짐
- 하이퍼바이저형은 펌웨어로서 구축하는 경우가 많고, 제품이나 기술에 따라 다양한 방법이 있다.

![image](https://user-images.githubusercontent.com/69254943/202852588-6ca79f0e-413d-4b48-8006-50f46b6cbb70.png)

<br>

### 정리해보면,

- 컨테이너 기술과 기존의 서버 가상화 기술은 매우 비슷하지만 목적이 다르다.
- 컨테이너 기술은 애플리케이션의 실행 환경을 모음으로써 애플리케이션의 이식성을 높이고 확장성이 좋은 환경에서 작동하는 것을 지향한다. ⇒ 애플리케이션 실행에 집중
- 기존 가상화 기술의 대부분은 하나의 물리 서버 내에서 서로 다른 환경을 어떻게 효율적으로 에뮬레이트할지라는 점을 지향한다.