# 기술적인 이슈를 비즈니스적으로 해결하기

<br>

## 📌 상황
- 인턴하던 회사의 ‘어프’ 앱의 가까운 약국, 병원 조회 코드를 보니 JPQL에 조회시 limit 30으로 고정되어 있는 것을 보고 처음에는 Pagination을 적용안한 잘못된 것인 줄 알았는데 이유가 있었다.
- 가까운 약국, 병원 조회시 30개만 조회한 이유는 프론트에서 응답받은 데이터를 지도에 찍어줄 때 너무 느리고, 화면이 깨지는 현상이 있어서 가까운 약국, 병원 조회는 사용자 입장에서도 30개면 충분해서 이런 기술적인 부분을 비즈니스적으로 해결하였다고 한다.
- 꼭 기술적으로 해결해야되는 것이 아니라 상황에 따라 비즈니스적으로도 해결할 수 있는 것임을 깨달았다.
- 추가적으로 가까운 약국, 병원 조회 쿼리에는 N+1이 존재하여 개선을 시도했지만, 해당 기능은 무조건 30건의 데이터만 조회하고, 각각 조회시 약국id와 병원id의 index를 사용하므로 빠르기 때문에 쿼리를 수정할 필요 없다고 말씀해주셨다.
    - 코드 리팩토링해서 테스트해보니 기존 응답보다 느려서 다시 원래 상태로 복구했다.
